<!DOCTYPE html><html lang="kr" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>소프트웨어 올라운더</title><meta name="author" content="Sang-moon, Lee"><meta name="copyright" content="Sang-moon, Lee"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="소프트웨어 올라운더">
<meta property="og:url" content="http://moonyl.github.io/index.html">
<meta property="og:site_name" content="소프트웨어 올라운더">
<meta property="og:locale">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4351142?v=4">
<meta property="article:author" content="Sang-moon, Lee">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://avatars.githubusercontent.com/u/4351142?v=4"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://moonyl.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.14.0-b3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.35/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>(()=>{
      const saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      
      window.btf = {
        saveToLocal: saveToLocal,
        getScript: (url, attr = {}) => new Promise((resolve, reject) => {
          const script = document.createElement('script')
          script.src = url
          script.async = true
          script.onerror = reject
          script.onload = script.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            script.onload = script.onreadystatechange = null
            resolve()
          }

          Object.keys(attr).forEach(key => {
            script.setAttribute(key, attr[key])
          })

          document.head.appendChild(script)
        }),

        getCSS: (url, id = false) => new Promise((resolve, reject) => {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = url
          if (id) link.id = id
          link.onerror = reject
          link.onload = link.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            link.onload = link.onreadystatechange = null
            resolve()
          }
          document.head.appendChild(link)
        }),

        addGlobalFn: (key, fn, name = false, parent = window) => {
          const pjaxEnable = false
          if (!pjaxEnable && key.startsWith('pjax')) return

          const globalFn = parent.globalFn || {}
          const keyObj = globalFn[key] || {}
    
          if (name && keyObj[name]) return
    
          name = name || Object.keys(keyObj).length
          keyObj[name] = fn
          globalFn[key] = keyObj
          parent.globalFn = globalFn
        }
      }
    
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode
      
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })()</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '소프트웨어 올라운더',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-08 11:00:44'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/4351142?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">28</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">158</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="소프트웨어 올라운더"><span class="site-name">소프트웨어 올라운더</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">소프트웨어 올라운더</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/moonyl" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:moonysl@hanmail.net" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/08/08/python_datetime_package/" title="Python datetime 패키지- 날짜와 시간을 효과적으로 다루는 방법">Python datetime 패키지- 날짜와 시간을 효과적으로 다루는 방법</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-08-08T01:40:56.577Z" title="Created 2024-08-08 10:40:56">2024-08-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">파이썬에서 날짜와 시간을 다뤄보고자 한다. 파이썬은 datetime 패키지를 제공한다. datetime 패키지를 사용할 때 필수적으로 파악해야 할 사항을 정리한다.
1. 모듈 불러오기먼저 datetime 모듈을 불러와야 한다. 아래와 같이 간단하게 import 할 수 있다.
1import datetime

2. 현재 날짜와 시간 얻기현재의 날짜와 시간을 얻으려면 datetime 모듈의 now()와 today() 메서드를 사용하면 된다.
12now = datetime.datetime.now()  # 현재 날짜와 시간today = datetime.date.today()   # 현재 날짜

3. 날짜와 시간 객체 생성특정 날짜와 시간의 객체를 생성할 수 있다. 아래의 예를 참고하자.
123dt = datetime.datetime(2023, 8, 8, 12, 30)  # 특정 날짜와 시간d = datetime.date(2023, 8, 8)                 # 특정 날짜t = d ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/23/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-23T09:06:30.763Z" title="Created 2024-07-23 18:06:30">2024-07-23</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/05/PM2-process-management/" title="PM2 프로세스 관리- 주요 인터페이스와 메서드 안내">PM2 프로세스 관리- 주요 인터페이스와 메서드 안내</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-05T05:13:52.000Z" title="Created 2024-07-05 14:13:52">2024-07-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">​PM2는 다양한 인터페이스와 메서드를 제공하여 프로세스를 관리할 수 있도록 해준다. 주요 인터페이스와 메서드에 대해 살펴보자.
connect(callback)PM2 데몬에 연결한다.
1234567pm2.connect((err) =&gt; &#123;  if (err) &#123;    console.error(err);    process.exit(2);  &#125;  // 연결 후 다른 PM2 명령 실행&#125;);

start(options, callback)새 프로세스를 시작한다.옵션: 스크립트 경로, 이름, 인자, 환경 변수 등
1234567891011pm2.start(  &#123;    script: &quot;app.js&quot;,    name: &quot;my-app&quot;,    args: &quot;arg1 arg2&quot;,    env: &#123; NODE_ENV: &quot;production&quot; &#125;,  &#125;,  (err ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/05/resource_manage_pattern_using_C_API_and_unique_ptr/" title="C API와 unique_ptr을 이용한 리소스 관리 패턴 - 안전한 프로그래밍을 위한 접근법">C API와 unique_ptr을 이용한 리소스 관리 패턴 - 안전한 프로그래밍을 위한 접근법</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-05T05:13:52.000Z" title="Created 2024-07-05 14:13:52">2024-07-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">C API 리소스 관리 패턴C 언어에서 자주 볼 수 있는 리소스 관리 패턴은 다음과 같다.

초기화 함수: 리소스를 할당하고 초기화한다.    
정리 함수: 할당된 리소스를 해제한다.    
불투명 포인터(Opaque Pointer): 리소스를 나타내는 포인터로, 사용자는 내부 구조를 알 필요가 없다.

1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;stdlib.h&gt;// 불투명 포인터를 위한 구조체 선언typedef struct Resource Resource;// 실제 구조체 정의 (보통 .c 파일에 숨겨져 있음)struct Resource &#123;    int some_data;    char* more_data;&#125;;// 초기화 함수Resource* resource_init(int initial_value) &#123;    Resource* r ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/04/find_package_register_pkg-config/" title="pkg-config를 통한 패키지 찾기 및 등록">pkg-config를 통한 패키지 찾기 및 등록</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-04T05:13:52.000Z" title="Created 2024-07-04 14:13:52">2024-07-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">pkg-config란pkg-config는 소프트웨어 개발 시 필요한 라이브러리의 존재 여부와 관련 설정(예: 컴파일러 플래그, 링크 플래그 등)을 관리하고 제공하는 도구이다. 주로 C와 C++ 프로그램에서 라이브러리를 쉽게 사용할 수 있도록 도와주는 역할을 한다.
패키지 찾기‘pkg-config –exists’ 명령은 특정 패키지가 설치되어 있는지 확인하는 데 사용한다. 이 명령은 주어진 패키지가 설치되어 있으면 0을, 그렇지 않으면 0이 아닌 값을 반환한다. 예를 들어, ‘glib-2.0’ 패키지가 설치되어 있는지를 확인하려면 다음과 같이 사용하면 된다.
1234567pkg-config --exists glib-2.0if [ $? -eq 0 ]; then    echo &quot;glib-2.0 is installed.&quot;else    echo &quot;glib-2.0 is not installed.&quot;fi

새로운 패키지 등록하기새로운 패키지를 등록하기 위해서는  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/04/install_grpc_for%20C++/" title="C++에서 사용하기 위한 gRPC 설치하기">C++에서 사용하기 위한 gRPC 설치하기</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-04T05:13:52.000Z" title="Created 2024-07-04 14:13:52">2024-07-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">빈번하게 gRPC를 빌드 하게 되어 스크립트를 만들어 gitgist에 공개했다.
다음 명령어 중 하나를 사용하여 설치할 수 있다.
wget을 사용하는 경우,
1wget -O - https://gist.githubusercontent.com/moonyl/f015cfa96400beccba616a5068124a84/raw/8f293296b6c422a22df6c9229070d5c87e1b34c0/install-grpc.sh | bash

curl을 사용하는 경우,
1curl -sSL https://gist.githubusercontent.com/moonyl/f015cfa96400beccba616a5068124a84/raw/8f293296b6c422a22df6c9229070d5c87e1b34c0/install-grpc.sh | bash

이 스크립트는 ‘sudo’ 권한이 필요하며, 필요한 경우 비밀번호를 입력하는 메시지가 나타난다.
스크립트를 실행한 후에는 터미널을 재시작하거나 ‘source ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/04/if_and_return_value_in_bash/" title="bash shell에서의 if 문과 함수 리턴 값">bash shell에서의 if 문과 함수 리턴 값</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-04T05:13:52.000Z" title="Created 2024-07-04 14:13:52">2024-07-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">자주 사용하는 C++이나 Javascript, kotlin 등과는 다르게 bash shell에서는 ‘if’ 조건문이 함수의 리턴 값이 0일 때 조건이 만족한다. 이것은 유닉스 전통에 따라, 성공적인 명령은 0을 반환하고 실패한 명령은 0이 아닌 값을 반환하는 규칙을 따르기 때문이다. 다음 예제를 살펴보자.
123456789101112#!/bin/bashmy_function() &#123;    # 어떤 작업 수행    return 0&#125;if my_function; then    echo &quot;Function was successful.&quot;else    echo &quot;Function failed.&quot;fi

위 스크립트에서 ‘my_function’ 함수는 0을 반환하므로 ‘if’ 조건문이 만족되어 “Function was successful.” 이 출력된다.
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/12/27/docker_host_server_ip/" title="도커 컨테이너에서 도커 호스트의 서버로 접근">도커 컨테이너에서 도커 호스트의 서버로 접근</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-12-27T05:49:16.000Z" title="Created 2021-12-27 14:49:16">2021-12-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">도커는 가상 네트워크를 만들어서, 내부에서 동작하는 컨테이너들 간에는 할당된 IP 혹은 컨테이너 이름으로 통신을 할 수 있다. 그런데, 만약에 컨테이너에서 도커 호스트에 있는 서버로 접근해야 할 상황이 있다면 어떻게 해야 할 것인가?
Networking features in Docker Desktop for Windows 문서를 살펴보면 I want to connect from a container to a service on the host 라는 제목의 섹션에서 그 답을 찾을 수 있다. 바로 host.docker.internal 으로 접근을 하면 된다는 결론을 얻을 수 있다. 즉, 컨테이너에서 도커 호스트의 서버로 접근하고자 할 때는 host.docker.internal 으로 접속을 요청하면 된다는 것이다.
도커 호스트에 서버로 서비스를 할 때, 외부에서의 접근을 막고, 도커 컨테이너의 요청에 대해서 처리하고자 한다면 어떤 IP로 바인딩해야 할 것인가. 의외로 쉬운 방법을 찾을 수 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/12/22/upgrade_qt5_ubunt1804/" title="우분투 18.04에서 QT5 업그레이드">우분투 18.04에서 QT5 업그레이드</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-12-22T05:49:16.000Z" title="Created 2021-12-22 14:49:16">2021-12-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">우분투 18.04는 QT5 15.9 버전을 지원한다. 특정 프로그램이 15.12 에서 동작하도록 되어 있어서, apt 패키지를 통해서 QT5를 업그레이드할 수 있는 방법이 없을까 찾아보다가 기록을 남긴다.
우분투의 패키지들은 대체로 최신 버전을 따라가지 못한다. 그러나, 기본 패키지 서버 외에 PPA(Personal Package Archive)를 통해서 최신 버전들을 설치해서 사용해볼 수 있다. QT5 또한 PPA로 관리하는 서버가 있으며, 이를 이용해서 업그레이드하면 된다.
참고한 사이트는 이 곳이다.우선, PPA를 등록해야 한다.
12sudo add-apt-repository ppa:beineri/opt-qt-5.12.7-bionicsudo apt-get update

기본적으로 필요한 패키지들을 묶어서 설치해주는 패키지가 존재하는데, 세 가지를 지원한다.

qt512-meta-minimal
qt512-meta-full
qt512-meta-dbg-full

최소 버전으로 설치한 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/12/16/pts_for_video_audio/" title="PTS 개념에 대한 정리">PTS 개념에 대한 정리</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-12-16T05:49:16.000Z" title="Created 2021-12-16 14:49:16">2021-12-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">프로그래밍</a></span></div><div class="content">프로젝트 중에 웹을 통해서 실시간 스트림을 재생하는 기능을 구현하는 작업이 있었다. 카메라로부터 RTSP 스트림을 받아 브라우저에서 html5 video 표준으로 재생을 하는 기능이다. 이 기능을 구현하기 위해서는 RTSP 스트림을 받아서 fragmented mp4 스트림으로 remuxing 하는 작업이 필요하다.
remuxing 작업은 ffmpeg의 example 중에 remuxing.c을 이용하면 그리 어렵지 않게 구현할 수 있다. 하지만, 실제 프로젝트에서는 ffmpeg의 입력으로 RTSP 스트림을 받는 것이 아니라, live555를 통해서 받은 payload 데이터 입력을 사용하도록 되어 있었다. 즉, remuxing을 위해서는 live555로부터 들어온 데이터를 ffmpeg의 AVPacket으로 변환 후, remuxing 예제처럼 특정 출력으로 만들어주는 작업이 필요했다.
AVPacket의 data 필드가 디먹싱 된 데이터를 요구하기 때문에, live555로 받은 subse ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/4351142?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sang-moon, Lee</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">28</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">158</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/moonyl"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/moonyl" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:moonysl@hanmail.net" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/08/python_datetime_package/" title="Python datetime 패키지- 날짜와 시간을 효과적으로 다루는 방법">Python datetime 패키지- 날짜와 시간을 효과적으로 다루는 방법</a><time datetime="2024-08-08T01:40:56.577Z" title="Created 2024-08-08 10:40:56">2024-08-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/23/hello-world/" title="Hello World">Hello World</a><time datetime="2024-07-23T09:06:30.763Z" title="Created 2024-07-23 18:06:30">2024-07-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/05/PM2-process-management/" title="PM2 프로세스 관리- 주요 인터페이스와 메서드 안내">PM2 프로세스 관리- 주요 인터페이스와 메서드 안내</a><time datetime="2024-07-05T05:13:52.000Z" title="Created 2024-07-05 14:13:52">2024-07-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/05/resource_manage_pattern_using_C_API_and_unique_ptr/" title="C API와 unique_ptr을 이용한 리소스 관리 패턴 - 안전한 프로그래밍을 위한 접근법">C API와 unique_ptr을 이용한 리소스 관리 패턴 - 안전한 프로그래밍을 위한 접근법</a><time datetime="2024-07-05T05:13:52.000Z" title="Created 2024-07-05 14:13:52">2024-07-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/04/find_package_register_pkg-config/" title="pkg-config를 통한 패키지 찾기 및 등록">pkg-config를 통한 패키지 찾기 및 등록</a><time datetime="2024-07-04T05:13:52.000Z" title="Created 2024-07-04 14:13:52">2024-07-04</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/theory/"><span class="card-category-list-name">theory</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%EC%9D%B4%EB%A1%A0/"><span class="card-category-list-name">이론</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%EC%9E%A1%EB%8B%B4/"><span class="card-category-list-name">잡담</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/"><span class="card-category-list-name">프로그래밍</span><span class="card-category-list-count">24</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/%ED%8A%B8%EB%9E%9C%EC%8A%A4%ED%8C%8C%EC%9D%BC/" style="font-size: 1.1em; color: #999">트랜스파일</a> <a href="/tags/QT5/" style="font-size: 1.1em; color: #999">QT5</a> <a href="/tags/%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B4%80%EB%A6%AC/" style="font-size: 1.1em; color: #999">메모리관리</a> <a href="/tags/css/" style="font-size: 1.1em; color: #999">css</a> <a href="/tags/%ED%94%84%EB%A1%9D%EC%8B%9C/" style="font-size: 1.1em; color: #999">프록시</a> <a href="/tags/%EC%BD%94%EB%93%9C%EA%B0%80%EB%8F%85%EC%84%B1/" style="font-size: 1.1em; color: #999">코드가독성</a> <a href="/tags/%EC%8B%A0%ED%98%B8%EC%B2%98%EB%A6%AC/" style="font-size: 1.1em; color: #999">신호처리</a> <a href="/tags/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C/" style="font-size: 1.1em; color: #999">프론트엔드</a> <a href="/tags/Python/" style="font-size: 1.1em; color: #999">Python</a> <a href="/tags/%EC%8B%9C%EA%B0%84%EC%B2%98%EB%A6%AC/" style="font-size: 1.1em; color: #999">시간처리</a> <a href="/tags/relative/" style="font-size: 1.1em; color: #999">relative</a> <a href="/tags/avformat-seek-file/" style="font-size: 1.1em; color: #999">avformat_seek_file</a> <a href="/tags/NodeGyp/" style="font-size: 1.1em; color: #999">NodeGyp</a> <a href="/tags/RAII/" style="font-size: 1.1em; color: #999">RAII</a> <a href="/tags/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/" style="font-size: 1.1em; color: #999">객체지향프로그래밍</a> <a href="/tags/javascript/" style="font-size: 1.5em; color: #99a9bf">javascript</a> <a href="/tags/AV-TIME-BASE/" style="font-size: 1.1em; color: #999">AV_TIME_BASE</a> <a href="/tags/static/" style="font-size: 1.1em; color: #999">static</a> <a href="/tags/Linux/" style="font-size: 1.5em; color: #99a9bf">Linux</a> <a href="/tags/externalProject/" style="font-size: 1.3em; color: #99a1ac">externalProject</a> <a href="/tags/mpd/" style="font-size: 1.1em; color: #999">mpd</a> <a href="/tags/%EB%82%A0%EC%A7%9C/" style="font-size: 1.1em; color: #999">날짜</a> <a href="/tags/es6/" style="font-size: 1.3em; color: #99a1ac">es6</a> <a href="/tags/PTS/" style="font-size: 1.1em; color: #999">PTS</a> <a href="/tags/std-unique-ptr/" style="font-size: 1.1em; color: #999">std_unique_ptr</a> <a href="/tags/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/" style="font-size: 1.1em; color: #999">자바스크립트</a> <a href="/tags/%EA%B9%83%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0/" style="font-size: 1.1em; color: #999">깃파라미터</a> <a href="/tags/%EC%8A%A4%ED%8A%B8%EB%A6%BC%EC%9D%B8%EB%8D%B1%EC%8A%A4/" style="font-size: 1.1em; color: #999">스트림인덱스</a> <a href="/tags/timebase/" style="font-size: 1.1em; color: #999">timebase</a> <a href="/tags/PM2/" style="font-size: 1.1em; color: #999">PM2</a> <a href="/tags/upgrade/" style="font-size: 1.1em; color: #999">upgrade</a> <a href="/tags/ARGV/" style="font-size: 1.1em; color: #999">ARGV</a> <a href="/tags/Cpp/" style="font-size: 1.1em; color: #999">Cpp</a> <a href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/" style="font-size: 1.1em; color: #999">프로그래밍</a> <a href="/tags/DevTools/" style="font-size: 1.1em; color: #999">DevTools</a> <a href="/tags/Nan/" style="font-size: 1.1em; color: #999">Nan</a> <a href="/tags/%EB%8D%B0%EB%AA%AC%EA%B4%80%EB%A6%AC/" style="font-size: 1.1em; color: #999">데몬관리</a> <a href="/tags/%ED%95%A8%EC%88%98%EC%B6%94%EC%B6%9C/" style="font-size: 1.1em; color: #999">함수추출</a> <a href="/tags/server/" style="font-size: 1.1em; color: #999">server</a> <a href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%ED%8C%A8%ED%84%B4/" style="font-size: 1.1em; color: #999">프로그래밍패턴</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="View More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">December 2021</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">November 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">March 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/02/"><span class="card-archive-list-date">February 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">January 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/10/"><span class="card-archive-list-date">October 2019</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">28</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-08T02:00:44.880Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Sang-moon, Lee</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.14.0-b3"></script><script src="/js/main.js?v=4.14.0-b3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.35/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = (ele) => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from(ele).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return
    
    codeMermaidEle.forEach(ele => {
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.innerHTML = `<pre class="mermaid-src" hidden>${ele.textContent}</pre>`
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js').then(runMermaidFn)
  }
  
  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>